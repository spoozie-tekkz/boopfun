(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8120],{44250:function(e,t,n){Promise.resolve().then(n.bind(n,33119))},70080:function(e,t,n){"use strict";var a,s=n(5853),r=n(67077),i=new Map,l=new Map,o=!0,d=!1;function c(e){return e.replace(/[\s,]+/g," ").trim()}function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var a=e[0];return t.forEach(function(t,n){t&&"Document"===t.kind?a+=t.loc.source.body:a+=t,a+=e[n+1]}),function(e){var t=c(e);if(!i.has(t)){var n,a,u,m,p,h=(0,r.Qc)(e,{experimentalFragmentVariables:d,allowLegacyFragmentVariables:d});if(!h||"Document"!==h.kind)throw Error("Not a valid GraphQL document.");i.set(t,((m=new Set((n=new Set,a=[],h.definitions.forEach(function(e){if("FragmentDefinition"===e.kind){var t,s=e.name.value,r=c((t=e.loc).source.body.substring(t.start,t.end)),i=l.get(s);i&&!i.has(r)?o&&console.warn("Warning: fragment with name "+s+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):i||l.set(s,i=new Set),i.add(r),n.has(r)||(n.add(r),a.push(e))}else a.push(e)}),u=(0,s.pi)((0,s.pi)({},h),{definitions:a})).definitions)).forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(t){var n=e[t];n&&"object"==typeof n&&m.add(n)})}),(p=u.loc)&&(delete p.startToken,delete p.endToken),u))}return i.get(t)}(a)}var m=u;(a=u||(u={})).gql=m,a.resetCaches=function(){i.clear(),l.clear()},a.disableFragmentWarnings=function(){o=!1},a.enableExperimentalFragmentVariables=function(){d=!0},a.disableExperimentalFragmentVariables=function(){d=!1},u.default=u,t.ZP=u},57029:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var a=n(57437),s=n(2265),r=n(20354),i=n(81201);let l=(0,s.forwardRef)((e,t)=>(0,a.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"65",height:"59",viewBox:"0 0 65 59",fill:"none",...e,children:[(0,a.jsx)("path",{d:"M62.4743 53.0081C53.9389 64.5424 21.9178 55.3175 10.7031 47.0186C-0.511555 38.7197 -2.68352 22.6417 5.8519 11.1074C14.3873 -0.426935 30.3979 -3.04976 41.6126 5.24913C52.8273 13.548 71.0097 41.4738 62.4743 53.0081Z",fill:"url(#paint0_linear_13414_370897)"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"paint0_linear_13414_370897",x1:"48.7262",y1:"10.5132",x2:"17.8167",y2:"52.2826",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#37CAF9"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#0190C8"})]})})]})),o=(0,s.forwardRef)((e,t)=>{let{className:n,handClassName:s}=e;return(0,a.jsxs)(r.U,{ref:t,className:(0,i.cn)("justify-between",n),children:[(0,a.jsx)("div",{className:"animate-boop-hands-wiggle",children:(0,a.jsx)(l,{className:s})}),(0,a.jsx)("div",{className:"animate-boop-hands-wiggle",children:(0,a.jsx)(l,{className:(0,i.cn)("-scale-x-100",s)})})]})})},46164:function(e,t,n){"use strict";n.d(t,{M:function(){return c}});var a=n(57437),s=n(2265),r=n(20354),i=n(81201),l=n(57029),o=n(75343);let d=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"20",viewBox:"0 0 36 20",fill:"none",className:t,children:(0,a.jsx)("path",{d:"M0 0C4.14475 0.485713 8.00388 2.35734 10.9515 5.31135L24.4802 18.8692C26.3678 20.7608 29.6 19.424 29.6 16.7518L29.6 7.1938C29.6 3.51971 32.3509 0.42763 36 -1.57361e-06L0 0Z",fill:"currentColor"})})},c=(0,s.forwardRef)((e,t)=>{let{title:n,description:s,boopState:c,showHands:u,boopPosition:m="right",className:p,boopClassName:h}=e;return(0,a.jsxs)(r.g,{ref:t,gap:4,className:(0,i.cn)("relative",p),children:[(0,a.jsxs)(r.U,{children:["left"===m&&(0,a.jsx)("div",{className:"w-24 md:w-64"}),(0,a.jsxs)(r.g,{gap:4,className:"flex-1",children:[(0,a.jsx)("h1",{className:"token-display-03 hidden md:inline",children:n}),(0,a.jsxs)("div",{className:"relative rounded-small border bg-ui-bg p-4 pb-3",children:[(0,a.jsx)("p",{className:"font-dotmatrix uppercase !leading-none md:token-display-body",style:{textShadow:"0 0 1px var(--yellow-200), 0 0 2px rgba(255, 255, 255, 0.5)"},children:s}),(0,a.jsx)(d,{className:(0,i.cn)("absolute top-full text-ui-bg md:top-8",{"left-12 -scale-x-100 md:-left-7 md:rotate-90 md:scale-100":"left"===m,"right-12 md:-right-7 md:-rotate-90 md:-scale-x-100":"right"===m})})]})]}),"right"===m&&(0,a.jsx)("div",{className:"w-24 md:w-64"})]}),(0,a.jsx)(o.BoopCharacter,{state:c,className:(0,i.cn)("absolute -bottom-20 size-36 md:-bottom-28 md:size-64",{"left-0":"left"===m,"right-0":"right"===m},h)}),u&&(0,a.jsx)(l.J,{className:(0,i.cn)("absolute -bottom-12 z-10 w-36 md:-bottom-14 md:w-60",{"left-0 md:left-2":"left"===m,"right-0 md:right-2":"right"===m}),handClassName:"size-7 md:size-12"})]})})},64650:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var a=n(57437),s=n(42586),r=n(61290),i=n(7153),l=n(6761);let o=e=>{let{children:t=null,connectClassName:n,connectButtonProps:o,requireWalletConnection:d=!1}=e,c=(0,s.useTranslations)("ConnectWalletGuard"),{play:u}=(0,i.u)({path:"/sfx/top-nav/connect-wallet-btn-press.mp3"}),{isAuthenticated:m,isWalletConnected:p,loginMethod:h}=(0,r.T)();return m&&(!d||p)?t:(0,a.jsx)("div",{className:n,children:(0,a.jsx)(l.Button,{variant:"secondary",...o,onClick:()=>{u(),h()},type:"button",disableSoundEffect:!0,children:c("connect")})})}},98216:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var a=n(57437),s=n(57525),r=n.n(s),i=n(44323),l=n(11935),o=n(20354);let d=e=>{var t,n,s,d;let{endDate:c}=e,u=(0,l.a)(c.getTime()),m=null!==(t=null==u?void 0:u.days)&&void 0!==t?t:0,p=null!==(n=null==u?void 0:u.hours)&&void 0!==n?n:0,h=null!==(s=null==u?void 0:u.minutes)&&void 0!==s?s:0,x=null!==(d=null==u?void 0:u.seconds)&&void 0!==d?d:0,g=r()(m.toString(),2,"0"),f=r()(p.toString(),2,"0"),j=r()(h.toString(),2,"0"),b=r()(x.toString(),2,"0"),N="token-display-body",v="relative font-semibold tabular-nums w-4 after:h-1/2 rounded-[4px] bg-ui-02 overflow-hidden text-center mr-0.5 after:absolute after:top-1/2 after:left-0 after:right-0 after:bg-gradient-to-b after:from-[rgba(18,22,25,0.2)] after:to-rgba(18,22,25,0)]";return(0,a.jsxs)(o.U,{className:"gap-0.5",children:[m>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.y,{formattedValue:g,tokenClassName:N,decimalWrapperClassName:v}),(0,a.jsx)("p",{className:"text-03",children:"d"})]}),(p>0||m>0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.y,{formattedValue:f,tokenClassName:N,decimalWrapperClassName:v}),(0,a.jsx)("p",{className:"text-03",children:"h"})]}),(0,a.jsx)(i.y,{formattedValue:j,tokenClassName:N,decimalWrapperClassName:v}),(0,a.jsx)("p",{className:"text-03",children:"m"}),(0,a.jsx)(i.y,{formattedValue:b,tokenClassName:N,decimalWrapperClassName:v}),(0,a.jsx)("p",{className:"text-03",children:"s"})]})}},44323:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var a=n(57437),s=n(20354),r=n(81201);let i={"token-caption":"token-caption-height","token-helper":"token-helper-height","token-detail":"token-detail-height","token-body":"token-body-height","token-display-body":"token-display-body-height","token-heading-05":"token-heading-05-height","token-heading-04":"token-heading-04-height","token-heading-03":"token-heading-03-height","token-display-03":"token-display-03-height","token-display-02":"token-display-02-height","token-display-01":"token-display-01-height"},l=e=>{let{formattedValue:t,tokenClassName:n,decimalWrapperClassName:l,customDecimalComponent:o,animationDurationMs:d=1e3,getDecimalWidth:c,className:u}=e,m=i[n];return(0,a.jsx)(s.U,{gap:0,className:(0,r.cn)("m-[-4px] overflow-hidden p-1",u),children:[...t].map((e,t)=>Number.isNaN(parseInt(e,10))?(0,a.jsx)(s.g,{className:(0,r.cn)(m,l),children:o?(0,a.jsx)(o,{decimal:e}):(0,a.jsx)("div",{className:n,children:e})},t):(0,a.jsx)("div",{className:(0,r.cn)(m,l),children:(0,a.jsx)(s.g,{gap:2,style:{width:null==c?void 0:c(e),transform:"translateY(calc(calc(10% + calc(8px / 10)) * ".concat(e," * -1))"),transition:"transform ".concat(d,"ms ease, width ").concat(d,"ms ease")},children:[...Array(10)].map((e,t)=>o?(0,a.jsx)(o,{decimal:t},t):(0,a.jsx)("div",{className:n,children:t},t))})},t))})}},11935:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var a=n(2265),s=n(90961);let r=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[n,r]=(0,a.useState)();return(0,a.useEffect)(()=>{if(t){let t=setInterval(()=>{let n=Date.now();e<=n?(r({seconds:0}),clearInterval(t)):r((0,s.y)({start:n,end:e}))},1e3);return()=>clearInterval(t)}},[t,e]),n}},26352:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var a=n(2265);let s=e=>{let{rootMargin:t="0px",root:n,threshold:s=1,onIntersect:r}=e,i=(0,a.useRef)(null),[l,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let{current:e}=i;if(!e)return;let a=new IntersectionObserver(e=>{let t=e.some(e=>e.isIntersecting);o(t),t&&(null==r||r())},{rootMargin:t,threshold:s,root:n});return a.observe(e),()=>{e&&a.unobserve(e)}},[t,s,n,r]),{observerRef:i,isIntersecting:l}}},86547:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var a=n(57437),s=n(2265),r=n(90535),i=n(81201);let l=(0,r.j)("focus:ring-ring token-helper inline-flex w-fit items-center rounded-full px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{variants:{variant:{primary:"bg-interactive-03 text-inverse","primary-subtle":"bg-interactive-03/10 text-interactive-03","pos-subtle":"border-transparent bg-pos-subtle text-pos","neg-subtle":"border-transparent bg-neg-subtle text-neg",secondary:"bg-interactive-01 text-inverse","secondary-subtle":"bg-interactive-02 text-link-02",pos:"border-transparent bg-pos text-inverse",neg:"border-transparent bg-neg text-inverse",gold:"bg-gold",success:"border border-support-success-inverse bg-support-success-bg text-support-success",warning:"bg-support-warning text-link-02",error:"border border-support-error-inverse bg-teal-400/10 text-support-error",disabled:"border border-inverse-02 bg-gray-600/10 text-gray-600/50",subtle:"border border-inverse-02 bg-gray-600/10 text-03"}},defaultVariants:{variant:"primary-subtle"}}),o=(0,s.forwardRef)((e,t)=>{let{className:n,variant:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)(l({variant:s}),n),...r})});o.displayName="Badge"},72953:function(e,t,n){"use strict";n.d(t,{pn:function(){return d},u:function(){return x}});var a=n(57437),s=n(2265),r=n(41677),i=n(722),l=n(46102),o=n(81201);let d=r.zt,c=r.fC,u=r.h_,m=r.xz,p=(0,s.forwardRef)((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Eh,{ref:t,className:(0,o.cn)("fill-ui-inverse",n),...s})});p.displayName=r.Eh.displayName;let h=(0,s.forwardRef)((e,t)=>{let{className:n,sideOffset:s=4,...i}=e;return(0,a.jsx)(r.VY,{ref:t,sideOffset:s,className:(0,o.cn)("token-detail z-50 max-w-[312px] overflow-hidden whitespace-pre-wrap rounded-small bg-ui-inverse p-4 text-inverse shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});h.displayName=r.VY.displayName;let x=(0,s.forwardRef)((e,t)=>{let{children:n,content:r,...o}=e,[d,x]=(0,s.useState)(!1),g=(0,i.ac)({minWidth:l.appConfig.mobileMaxWidth});return(0,a.jsxs)(c,{open:d,delayDuration:g?void 0:0,onOpenChange:x,children:[(0,a.jsx)(m,{asChild:!0,onClick:e=>{g||(e.preventDefault(),e.stopPropagation(),x(!0))},children:n}),(0,a.jsx)(u,{children:(0,a.jsxs)(h,{ref:t,...o,children:[r,(0,a.jsx)(p,{})]})})]})})},41048:function(e,t,n){"use strict";n.d(t,{s:function(){return g}});var a=n(43972),s=n(1197),r=n(64024),i=n(46102),l=n(82957).Buffer;let o=(e,t,n)=>{let[a]=r.PublicKey.findProgramAddressSync([l.from("ClaimStatus"),e.toBuffer(),t.toBuffer()],n);return a},d=e=>{let t=new ArrayBuffer(8);return new DataView(t).setBigUint64(0,BigInt(e),!0),new Uint8Array(t)};var c=n(82957).Buffer;let u=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,[s]=r.PublicKey.findProgramAddressSync([c.from("MerkleDistributor"),e.toBuffer(),t.toBuffer(),d(BigInt(a).toString())],n);return s},m=async e=>new Uint8Array((await crypto.subtle.digest("SHA-256",new TextEncoder().encode("global:".concat(e)))).slice(0,8));var p=n(30663);let h=e=>{let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!0),new Uint8Array(t)};var x=n(82957).Buffer;let g=async e=>{let{walletAddress:t,signerAddress:n,mintAddress:l,amount:c,proofs:g,period:f,amountLocked:j="0"}=e,{merkleDistribution:b}=i.appConfig.programs,N=(0,p.$)(t),v=(0,p.$)(b),w=(0,p.$)(n),y=(0,p.$)(l),k=u(w,y,v,f),C=o(N,k,v),[A,T,B]=await Promise.all([(0,a.Am)(y,N),(0,a.Am)(y,k,!0),m("new_claim")]);return new r.TransactionInstruction({keys:[{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!0,isWritable:!0},{pubkey:s.H_,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:v,data:x.concat([B,d(c),d(j),h(g.length),Uint8Array.from(g.flat())])})}},65913:function(e,t,n){"use strict";n.d(t,{LU:function(){return o},Sy:function(){return l}});var a=n(12147),s=n(24784);n(57525);let r={xSeconds:"{{count}}s",xMinutes:"{{count}}m",xHours:"{{count}}h",xDays:"{{count}}d",xMonths:"{{count}}mos",xYears:"{{count}}y"},i=(e,t,n)=>{let a=r[e].replace("{{count}}",t.toString());return(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in ".concat(a):"".concat(a," ago"):a},l=(e,t)=>{let{addSuffix:n=!0,...s}=t||{};return(0,a.D)(e,{addSuffix:n,locale:{formatDistance:i},...s})},o=(e,t)=>{let{shortLabels:n=!1,...a}=t||{};return(0,s.L)(e,{...a,locale:n?{formatDistance:i}:void 0})}},33119:function(e,t,n){"use strict";n.d(t,{GraduationRewardsView:function(){return eG}});var a=n(57437),s=n(47610),r=n(20354),i=n(24372),l=n(2265),o=n(3659),d=n(80525),c=n(71632),u=n(2868),m=n(70080),p=n(46102),h=n(55741),x=n(74665);function g(){let e=(0,o._)(["\n  fragment GraduationRewardAllocation on GraduationRewardAllocation {\n    id\n    token {\n      id\n      address\n      name\n      symbol\n      logoUrl\n      imageFlag\n      creator {\n        address\n      }\n    }\n    boopAmountLpt\n    kind\n    supplyAtGraduation\n    claimedAt\n    status\n    claimTxHash\n    expiresAt\n  }\n"]);return g=function(){return e},e}(0,m.ZP)(g());let f=async(e,t)=>{var n,a;let s=(0,d.B)("\n    query GetAccountGraduationRewardsMetrics($address: String!) {\n      account(address: $address) {\n        id\n        graduationRewardsMetrics {\n          pendingAmountBoopLpt\n          pendingAmountUsd\n          claimedAmountBoopLpt\n          claimedAmountUsd\n          nextExpiry\n        }\n        graduationRewardsPendingClaim {\n          boopAmountLpt\n          proofs\n          period\n        }\n      }\n    }\n  "),r=await (0,x.BX)({query:s,requestHeaders:{Authorization:"Bearer ".concat(t)},params:{address:e}});return{metrics:null===(n=r.account)||void 0===n?void 0:n.graduationRewardsMetrics,pendingClaim:null===(a=r.account)||void 0===a?void 0:a.graduationRewardsPendingClaim}},j=async(e,t)=>{var n;let{accountAddress:a,orderBy:s,kind:r,pagination:i}=e,l=(0,d.B)("\n    query GetAccountGraduationRewardsAllocations(\n      $address: String!\n      $first: Int\n      $after: String\n      $orderBy: GraduationRewardAllocationSort!\n      $kind: GraduationRewardKind\n    ) {\n      account(address: $address) {\n        id\n        graduationRewardsAllocations(\n          first: $first\n          after: $after\n          orderBy: $orderBy\n          kind: $kind\n        ) {\n          edges {\n            node {\n              ...GraduationRewardAllocation\n            }\n            cursor\n          }\n          pageInfo {\n            hasNextPage\n            endCursor\n          }\n        }\n      }\n    }\n  ");return null===(n=(await (0,x.BX)({query:l,requestHeaders:{Authorization:"Bearer ".concat(t)},params:{address:a,orderBy:s,kind:r,...i}})).account)||void 0===n?void 0:n.graduationRewardsAllocations},b=e=>{let{accountAddress:t,options:n}=e,a=(0,h.pO)();return(0,c.useQuery)({queryKey:["account-platform-rewards-metrics",t],queryFn:async()=>{if(!t)throw Error("No address supplied");return f(t,await a())},enabled:!!t&&(null==n?void 0:n.enabled)!==!1,...n})},N=e=>{let{accountAddress:t,orderBy:n="ALLOCATED_AT_DESC",kind:a,pagination:s,options:r}=e,i=(0,h.pO)();return(0,u.useInfiniteQuery)({queryKey:["account-graduation-reward-allocations",t,n,a],queryFn:async e=>{let{pageParam:s}=e;if(!t)throw Error("No address supplied");return j({accountAddress:t,orderBy:n,kind:a,pagination:s},await i())},getNextPageParam:e=>{var t;if(null==e?void 0:e.pageInfo.hasNextPage)return{first:null!==(t=null==s?void 0:s.first)&&void 0!==t?t:p.appConfig.defaultPagination.first,after:e.pageInfo.endCursor}},initialPageParam:null!=s?s:p.appConfig.defaultPagination,enabled:!!t&&(null==r?void 0:r.enabled)!==!1,...r})};var v=n(38933),w=n(43972),y=n(55822),k=n(13816),C=n(64024),A=n(42586),T=n(64650),B=n(75343),S=n(26352),L=n(61290),D=n(7153),U=n(6761),R=n(36661),E=n(76799),O=n(4256),z=n(41048),I=n(16645),G=n(43099),P=n(30663),M=n(53585),_=n(12348),F=n(78674);let V=e=>{let{amountToClaim:t,tokenSymbol:n,...s}=e,i=(0,A.useTranslations)("Dialog");return(0,a.jsx)(F.cZ,{size:"sm",hideCloseButton:!0,children:(0,a.jsx)(F.a7,{...s,children:(0,a.jsxs)(r.g,{gap:4,className:"items-center justify-center py-6",children:[(0,a.jsx)(B.BoopCharacter,{state:"token-loading",className:"h-32 w-32"}),(0,a.jsx)("h3",{className:"token-heading-03",children:i("claimXToken",{amount:t,tokenSymbol:n})}),(0,a.jsx)("p",{className:"text-02",children:i("goToYourWallet")}),(0,a.jsx)("div",{className:"w-full pt-8",children:(0,a.jsx)(U.Button,{disabled:!0,className:"w-full",size:"md",children:i("confirming")})})]})})})},W=e=>{let{onRetryClick:t}=e,n=(0,A.useTranslations)("GraduationRewardsView");return(0,a.jsxs)(F.cZ,{size:"sm",hideCloseButton:!0,children:[(0,a.jsx)(F.$N,{className:"absolute right-0 top-0 p-4",children:(0,a.jsx)(F.GG,{asChild:!0,children:(0,a.jsxs)(U.Button,{size:"icon",variant:"link",className:"h-8 w-8 rounded-full",children:[(0,a.jsx)(E.J,{name:"close",size:5}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})})}),(0,a.jsx)(F.a7,{className:"pt-4",children:(0,a.jsxs)(r.g,{gap:4,className:"items-center py-6",children:[(0,a.jsx)(B.BoopCharacter,{state:"search-failed",className:"h-32 w-32"}),(0,a.jsxs)(r.g,{className:"items-center",children:[(0,a.jsx)("p",{className:"token-heading-03 text-center",children:n("letsTryThatAgain")}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-center text-02",children:n("iCouldntCompleteThat",{errorCode:"errorcode"})})]})]})}),(0,a.jsx)(F.cN,{children:(0,a.jsx)(U.Button,{onClick:t,size:"md",className:"w-full",children:n("tryAgain")})})]})},$=e=>{let{amountToClaim:t}=e,n=(0,A.useTranslations)("GraduationRewardsView");return(0,a.jsxs)(F.cZ,{size:"sm",hideCloseButton:!0,children:[(0,a.jsx)(F.$N,{className:"absolute right-0 top-0 p-4",children:(0,a.jsx)(F.GG,{asChild:!0,children:(0,a.jsxs)(U.Button,{size:"icon",variant:"link",className:"h-8 w-8 rounded-full",children:[(0,a.jsx)(E.J,{name:"close",size:5}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})})}),(0,a.jsx)(F.a7,{className:"pt-4",children:(0,a.jsxs)(r.g,{gap:4,className:"items-center py-6",children:[(0,a.jsx)(B.BoopCharacter,{state:"token-success",className:"h-32 w-32"}),(0,a.jsxs)(r.g,{className:"items-center",children:[(0,a.jsx)("p",{className:"token-heading-03 text-center",children:n("claimSuccessful")}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-center text-02",children:n("claimedXBoopNow",{amount:t})})]})]})}),(0,a.jsx)(F.cN,{children:(0,a.jsx)(M.rU,{href:"/account/staking",className:"w-full",children:(0,a.jsxs)(U.Button,{size:"md",className:"w-full",children:[n("goToStake"),(0,a.jsx)(E.J,{name:"chevronRight",className:"ml-1"})]})})})]})},J=e=>{let{isOpen:t,amountToClaim:n,currentView:s,onOpenChange:r,onRetryClick:i}=e;return(0,a.jsx)(F.Vq,{open:t,onOpenChange:r,children:(()=>{switch(s){case"claim":return(0,a.jsx)(V,{tokenSymbol:"BOOP",amountToClaim:n});case"success":return(0,a.jsx)($,{amountToClaim:n});case"failure":return(0,a.jsx)(W,{onRetryClick:i})}})()})};var H=n(78198);function q(e,t){var n;let a,s;let r=null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2,i=function(e){let t;let n={},a=e.split(Z.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],Z.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Z.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=Z.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(i.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};let s=a[1]?parseInt(a[1]):null,r=a[2]?parseInt(a[2]):null;return{year:null===r?s:100*r,restDateString:e.slice((a[1]||a[2]).length)}}(i.date,r);a=function(e,t){if(null===t)return new Date(NaN);let n=e.match(Y);if(!n)return new Date(NaN);let a=!!n[4],s=K(n[1]),r=K(n[2])-1,i=K(n[3]),l=K(n[4]),o=K(n[5])-1;if(a)return l>=1&&l<=53&&o>=0&&o<=6?function(e,t,n){let a=new Date(0);a.setUTCFullYear(e,0,4);let s=a.getUTCDay()||7;return a.setUTCDate(a.getUTCDate()+((t-1)*7+n+1-s)),a}(t,l,o):new Date(NaN);{let e=new Date(0);return r>=0&&r<=11&&i>=1&&i<=(et[r]||(en(t)?29:28))&&s>=1&&s<=(en(t)?366:365)?(e.setUTCFullYear(t,r,Math.max(s,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);let l=a.getTime(),o=0;if(i.time&&isNaN(o=function(e){let t=e.match(X);if(!t)return NaN;let n=ee(t[1]),a=ee(t[2]),s=ee(t[3]);return(24===n?0===a&&0===s:s>=0&&s<60&&a>=0&&a<60&&n>=0&&n<25)?n*H.vh+a*H.yJ+1e3*s:NaN}(i.time)))return new Date(NaN);if(i.timezone){if(isNaN(s=function(e){if("Z"===e)return 0;let t=e.match(Q);if(!t)return 0;let n="+"===t[1]?-1:1,a=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return s>=0&&s<=59?n*(a*H.vh+s*H.yJ):NaN}(i.timezone)))return new Date(NaN)}else{let e=new Date(l+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(l+o+s)}let Z={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Y=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Q=/^([+-])(\d{2})(?::?(\d{2}))?$/;function K(e){return e?parseInt(e):1}function ee(e){return e&&parseFloat(e.replace(",","."))||0}let et=[31,null,31,30,31,30,31,31,30,31,30,31];function en(e){return e%400==0||e%4==0&&e%100!=0}var ea=n(12101),es=n(11935),er=n(86547),ei=n(69996),el=n(81201),eo=n(65913),ed=n(97207);let ec=e=>{var t,n;let{reward:s,boopPrice:i,onClaimClick:l}=e,o=(0,A.useTranslations)("GraduationRewardsView"),d="CREATOR"===s.kind,c="CALCULATING"===s.status,u=i?Number((0,I.LX)(s.boopAmountLpt))*i:null,m=(0,I.As)(s.boopAmountLpt,{significantDigits:6}),p=(0,I.Rr)("boop"),h=(0,es.a)(q(null!==(t=s.expiresAt)&&void 0!==t?t:"").getTime()),x=h&&(0,eo.LU)(h,{format:["months","days","hours","minutes","seconds"],shortLabels:!0});return(0,a.jsxs)(r.U,{className:"items-start rounded-container p-2",children:[(0,a.jsx)("div",{className:"relative h-10 w-10 rounded-full",children:(0,a.jsx)(ea.D,{src:s.token.logoUrl,imageFlag:s.token.imageFlag,alt:"",fill:!0,sizes:"80px",className:"rounded-full object-cover"})}),(0,a.jsxs)(r.g,{gap:1,className:"flex-1 items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"token-detail overflow-hidden text-ellipsis font-semibold",children:(0,I.Rr)(s.token.symbol)}),!d&&(0,a.jsx)("p",{className:"token-helper text-03",children:o.rich("ofSupplyAtGrad",{percent:(0,I.DW)(null!==(n=s.supplyAtGraduation)&&void 0!==n?n:0,0,1),text:e=>(0,a.jsx)("span",{className:"token-detail",children:e})})})]}),d?(0,a.jsxs)(er.C,{variant:"primary",children:[(0,a.jsx)(E.J,{name:"mint",size:4,className:"mr-1"})," ",o("creator")]}):(0,a.jsxs)(er.C,{variant:"secondary-subtle",className:"text-03",children:[(0,a.jsx)(E.J,{name:"userFilled",size:4,className:"mr-1"})," ",o("holder")]})]}),(0,a.jsxs)(r.g,{gap:1,className:"items-end",children:[(0,a.jsxs)(r.g,{gap:0,className:"items-end",children:[(0,a.jsx)("p",{className:(0,el.cn)("token-detail text-end font-semibold",c&&"text-disabled"),children:c?o("tbd"):(0,a.jsxs)(r.U,{children:[(0,a.jsx)("span",{children:m}),(0,a.jsx)("span",{className:"text-03",children:p})]})}),(0,a.jsx)("p",{className:(0,el.cn)("token-detail text-end",c?"text-disabled":"text-03"),children:(0,I.LT)(u)})]}),s.claimedAt&&s.claimTxHash?(0,a.jsx)(ei.ExternalLink,{href:(0,ed.E8)(s.claimTxHash,"transaction"),bypassDialog:!0,children:(0,a.jsxs)(U.Button,{variant:"outline-primary",size:"xxs",children:[o("claimed")," ",(0,a.jsx)(E.J,{name:"launchOpenInNew",size:4})]})}):"CLAIMABLE"===s.status?(0,a.jsxs)(U.Button,{variant:"secondary",size:"xxs",onClick:l,children:[(0,a.jsx)(E.J,{name:"time",size:3,className:"mr-1"}),(0,a.jsx)("span",{className:"font-mono",children:x})]}):(0,a.jsx)(U.Button,{variant:"outline",size:"xxs",className:"cursor-default",disabled:!0,children:o("calculating")})]})]})};var eu=n(57525),em=n.n(eu),ep=n(44323),eh=n(72953);let ex=e=>{var t,n,s,i;let{expiresAt:o,maxIntervals:d=4}=e,c=(0,A.useTranslations)("GraduationRewardsView"),u=q(o),m=(0,es.a)(u.getTime()),p=null!==(t=null==m?void 0:m.days)&&void 0!==t?t:0,h=null!==(n=null==m?void 0:m.hours)&&void 0!==n?n:0,x=null!==(s=null==m?void 0:m.minutes)&&void 0!==s?s:0,g=null!==(i=null==m?void 0:m.seconds)&&void 0!==i?i:0,f=[[p,"d"],[h,"h"],[x,"m"],[g,"s"]].reduce((e,t,n)=>(n<=d&&t[0]>0&&e.push(t),e),[]);return(0,a.jsxs)(r.g,{gap:0,className:"items-end",children:[(0,a.jsx)(r.U,{className:"gap-0.5",children:f.map(e=>{let[t,n]=e;return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(ep.y,{formattedValue:em()(t.toString(),2,"0"),tokenClassName:"token-display-body",decimalWrapperClassName:(0,el.cn)("after:to-rgba(18,22,25,0)] relative mr-0.5 w-4 overflow-hidden rounded-[4px] bg-ui-02 text-center font-semibold tabular-nums after:absolute after:left-0 after:right-0 after:top-1/2 after:h-1/2 after:bg-gradient-to-b after:from-[rgba(18,22,25,0.2)]")}),(0,a.jsx)("p",{className:"text-03",children:n})]},n)})}),(0,a.jsx)(eh.u,{content:c("yourOldestUnclaimedRewards",{timeRemaining:(0,eo.LU)({days:p,hours:h,minutes:x,seconds:g},{shortLabels:!0})}),children:(0,a.jsxs)(r.U,{className:"token-helper text-03",gap:2,children:[c("nextExpiry"),(0,a.jsx)(E.J,{name:"help",size:4})]})})]})};var eg=n(59625),ef=n(4391);let ej=(0,eg.Ue)()((0,ef.n)(e=>({isOpen:!1,isLoading:!1,currentView:"claim",setIsOpen:t=>{e(e=>{e.isOpen=t,t||(e.isLoading=!1)})},setIsLoading:t=>{e(e=>{e.isLoading=t})},setCurrentView:t=>{e(e=>{e.currentView=t})}}))),eb={ALLOCATED_AT_DESC:"most recent",AMOUNT_DESC:"top value"},eN={SHOW_ALL:"show all",CREATOR:"created tokens",HOLDER:"held tokens"},ev=e=>{var t,n,s,i,o,d,c,u;let{connectedWallet:m}=e,h=(0,A.useTranslations)("GraduationRewardsView"),x=(0,O.pm)(),{isAuthenticated:g}=(0,L.T)(),{play:f}=(0,D.u)({path:"/sfx/filter-btn-press.mp3"}),[j,F]=(0,l.useState)("ALLOCATED_AT_DESC"),[V,W]=(0,l.useState)("SHOW_ALL"),$=Number(null!==(i=(0,v.z)().data)&&void 0!==i?i:0),{connection:H}=(0,k.R)(),{data:q}=b({accountAddress:null==m?void 0:m.address}),{data:Z,fetchNextPage:Y,hasNextPage:X,isFetchingNextPage:Q,isLoading:K,refetch:ee}=N({accountAddress:null==m?void 0:m.address,orderBy:j,kind:"SHOW_ALL"===V?void 0:V,pagination:{first:10}}),{isOpen:et,currentView:en,setIsOpen:ea,setIsLoading:es}=ej(),{observerRef:er}=(0,S.S)({rootMargin:"100px",onIntersect:X&&!Q?Y:void 0}),ei=(0,G.I)(null!==(o=null==Z?void 0:Z.pages)&&void 0!==o?o:[]),el=null==q?void 0:q.pendingClaim,eo=ei.some(e=>"CLAIMABLE"===e.status),ed=null==q?void 0:null===(t=q.metrics)||void 0===t?void 0:t.nextExpiry,eu=async()=>{if(!el)throw Error("No allocation");if(!m)throw Error("No connected wallet");try{es(!0);let{boopRewardSigner:e,boopToken:t}=p.appConfig.programs,{boopAmountLpt:n,proofs:a,period:s}=el,r=(0,P.$)(m.address),i=(0,P.$)(t),l=new C.Transaction,{blockhash:o}=await H.getLatestBlockhash();l.recentBlockhash=o,l.feePayer=r;let d=(0,w.MO)(i,r);l.add((0,y.ji)(r,d,r,i));let c=await (0,z.s)({walletAddress:m.address,signerAddress:e,mintAddress:t,amount:n.toString(),proofs:a,period:s});l.add(c);let u=await m.sendTransaction(l,H);await (0,_.M)(u,H),x({colorScheme:"success",title:h("airdropClaimed"),description:h("claimedXOfY",{amount:(0,I.As)(n,{significantDigits:0}),token:"BOOP"})}),setTimeout(()=>ee(),p.appConfig.indexerRefetchDelay)}catch(e){x({colorScheme:"failure",title:h("error"),description:h("unableToClaim",{token:"BOOP"})}),console.error(e)}finally{es(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("main",{children:(0,a.jsxs)(r.g,{gap:0,className:"bg-gradient-card rounded-dialog border shadow-card",children:[(0,a.jsxs)(r.g,{gap:4,className:"p-4",children:[(0,a.jsx)("h2",{className:"token-detail font-semibold",children:h("yourClaimableGradRewards")}),(0,a.jsxs)(r.U,{children:[(0,a.jsx)(E.J,{name:"tokenBoop",size:12,className:"flex-shrink-0"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)(r.g,{gap:0,children:[(0,a.jsx)("p",{className:"token-heading-03 text-link-01",children:(null==q?void 0:q.metrics)?"".concat((0,I.As)(q.metrics.pendingAmountBoopLpt)," BOOP"):"???"}),(0,a.jsx)("p",{className:"token-helper text-03",children:(null==q?void 0:q.metrics)?(0,I.LT)(q.metrics.pendingAmountUsd):"???"})]})}),eo&&ed&&(0,a.jsx)(ex,{expiresAt:ed,maxIntervals:2})]}),(0,a.jsx)(r.U,{gap:1,children:(0,a.jsxs)(T.I,{connectClassName:"flex-1",connectButtonProps:{variant:"primary",className:"w-full"},children:[(0,a.jsx)(U.Button,{onClick:eu,disabled:!el,className:"flex-1 px-0",children:h("claim")}),(0,a.jsx)(M.rU,{href:"/account/staking",className:"flex-1",children:(0,a.jsxs)(U.Button,{variant:"tertiary",className:"w-full",children:[h("stake"),(0,a.jsx)(E.J,{name:"chevronRight",className:"ml-1"})]})})]})})]}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.g,{className:"justify-between border-b px-4 py-2 md:flex-row md:items-center",children:[(0,a.jsxs)(r.g,{gap:0,children:[(0,a.jsx)("p",{className:"token-helper text-03",children:h("yourGradRewardsTo")}),(0,a.jsxs)(r.U,{gap:1,children:[(0,a.jsx)("p",{className:"font-semibold",children:"".concat((0,I.As)(null!==(d=null==q?void 0:null===(n=q.metrics)||void 0===n?void 0:n.claimedAmountBoopLpt)&&void 0!==d?d:0n)," BOOP")}),(0,a.jsxs)("p",{className:"token-helper text-03",children:["(",(0,I.LT)(null!==(c=null==q?void 0:null===(s=q.metrics)||void 0===s?void 0:s.claimedAmountUsd)&&void 0!==c?c:0),")"]})]})]}),(0,a.jsxs)(r.U,{gap:1,className:"self-end md:self-center",children:[(0,a.jsx)(R.Lt,{content:Object.entries(eb).map(e=>{let[t,n]=e;return(0,a.jsxs)(R.Xi,{onClick:()=>{f(),F(t)},className:"cursor-pointer justify-between hover:bg-hover-ui active:bg-onclick-ui",children:[n,j===t&&(0,a.jsx)(E.J,{name:"checkmarkFilled",className:"text-03"})]},t)}),align:"end",hideChevron:!0,children:(0,a.jsxs)(U.Button,{variant:"outline",size:"xs",children:[eb[j],(0,a.jsx)(E.J,{name:"chevronSortNeutral",className:"pl-1"})]})}),(0,a.jsx)(R.Lt,{content:Object.entries(eN).map(e=>{let[t,n]=e;return(0,a.jsxs)(R.Xi,{onClick:()=>{f(),W(t)},className:"cursor-pointer justify-between hover:bg-hover-ui active:bg-onclick-ui",children:[n,V===t&&(0,a.jsx)(E.J,{name:"checkmarkFilled",className:"text-03"})]},t)}),align:"end",hideChevron:!0,children:(0,a.jsxs)(U.Button,{variant:"outline",size:"xs",children:[eN[null!=V?V:"undefined"],(0,a.jsx)(E.J,{name:"chevronSortNeutral",className:"pl-1"})]})})]})]}),(0,a.jsxs)(r.g,{className:"gap-0.5 p-2",children:[(0,a.jsxs)(r.U,{className:"justify-between p-2",children:[(0,a.jsx)("p",{className:"token-detail text-03",children:h("graduatedToken")}),(0,a.jsx)("p",{className:"token-detail text-03",children:h("boopRewardsAnd")})]}),(0,a.jsx)(r.g,{className:"max-h-[384px] gap-0.5 overflow-y-auto rounded-container border bg-ui-glass p-2",children:K?(0,a.jsx)("div",{className:"flex h-[344px] items-center justify-center py-4",children:(0,a.jsx)(B.BoopCharacter,{state:"token-loading",mouseSensitivity:.3,className:"h-16 w-16"})}):0===ei.length?(0,a.jsxs)(r.g,{gap:8,className:"items-center p-4 md:p-8",children:[(0,a.jsxs)(r.g,{gap:4,className:"items-center",children:[(0,a.jsx)(E.J,{name:"boopCross",size:32,className:"text-border-01"}),(0,a.jsxs)(r.g,{className:"items-center",children:[(0,a.jsx)("p",{className:"token-heading-03 text-center",children:h("nothingHere")}),(0,a.jsx)("p",{className:"text-center text-02",children:h("startTradingOrCreating")})]})]}),(0,a.jsxs)(r.U,{children:[(0,a.jsx)(M.rU,{href:"/",children:(0,a.jsx)(U.Button,{children:h("tradeToEarn")})}),(0,a.jsx)(M.rU,{href:"/create/token",children:(0,a.jsx)(U.Button,{variant:"secondary",children:h("createToEarn")})})]})]}):(0,a.jsxs)(r.g,{className:"gap-0.5",children:[ei.map(e=>(0,a.jsx)(ec,{reward:e,boopPrice:$,onClaimClick:eu},e.id)),X&&(0,a.jsx)("div",{ref:er,className:"h-8"})]})})]})]})]})}),(0,a.jsx)(J,{isOpen:et,currentView:en,onOpenChange:()=>ea(!1),amountToClaim:(0,I.As)(null!==(u=null==el?void 0:el.boopAmountLpt)&&void 0!==u?u:"0",{significantDigits:6}),onRetryClick:()=>eu()})]})},ew=()=>{let e=(0,A.useTranslations)("GraduationRewardsView");return(0,a.jsx)("div",{className:"bg-gradient-banner-dark relative rounded-dialog p-4 shadow-card before:absolute before:inset-0 before:bg-[url(/images/cult-pattern.png)] before:bg-[size:930px] before:bg-[0_-53px] before:bg-repeat before:opacity-10 before:mix-blend-color-burn",children:(0,a.jsxs)(r.g,{gap:4,className:"relative items-end md:flex-row md:items-center",children:[(0,a.jsxs)(r.U,{gap:4,className:"flex-1",children:[(0,a.jsx)(E.J,{name:"boopGrad",className:"size-24"}),(0,a.jsxs)(r.g,{className:"flex-1",children:[(0,a.jsx)("h2",{className:"token-body text-gold font-semibold",children:e("earningGradRewards")}),(0,a.jsx)("p",{className:"token-detail",children:e("everyTokenYouHold")})]})]}),(0,a.jsxs)(r.U,{children:[(0,a.jsx)(M.rU,{href:"/",children:(0,a.jsx)(U.Button,{children:e("tradeToEarn")})}),(0,a.jsx)(M.rU,{href:"/create/token",children:(0,a.jsx)(U.Button,{variant:"secondary",children:e("createToEarn")})})]})]})})};function ey(){let e=(0,o._)(["\n  fragment GraduationMetricsFragment on GraduationMetrics {\n    totalAllocationBoopLpt\n    allocationPerTokenBoopLpt\n    tokensGraduated\n    currentEpochStart\n    currentEpochEnd\n  }\n"]);return ey=function(){return e},e}(0,m.ZP)(ey());let ek=async()=>{let e=(0,d.B)("\n    query GetGraduationMetrics {\n      graduationMetrics {\n        ...GraduationMetricsFragment\n      }\n    }\n  ");return(await (0,x.BX)({query:e})).graduationMetrics},eC=e=>(0,c.useQuery)({queryKey:["graduation-metrics"],queryFn:ek,...e});var eA=n(97736),eT=n(99649),eB=n(90961),eS=n(33145);let eL=(0,l.forwardRef)((e,t)=>{let{percentage:n,showNumber:s=!0,invertNumberDisplayAt:i=80,hideIcons:l=!1,progressBarClassName:o,className:d,...c}=e,u="".concat((0,I.DW)(n,0),"%");return(0,a.jsxs)(r.U,{ref:t,className:(0,el.cn)("relative h-5 justify-end rounded-[.25rem] border border-border-01 bg-interactive-02",d),...c,children:[(0,a.jsxs)("div",{className:(0,el.cn)("bg-progress absolute bottom-0 left-0 top-0 flex items-center justify-between rounded-[.25rem] transition-size duration-500",o),style:{width:"".concat(n,"%")},children:[s&&n>=i?(0,a.jsx)("p",{className:"token-caption relative ml-2 font-semibold text-inverse",children:u}):(0,a.jsx)("div",{}),!l&&(0,a.jsx)(E.J,{name:100===n?"boopGrad":"boop",size:8,className:"mr-[-16px]"})]}),s&&n<i&&(0,a.jsx)("p",{className:"token-caption relative mr-2 font-semibold text-01",children:u})]})}),eD=(e,t)=>{let[n,a]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let n=()=>{let n=Date.now(),a=new Date(e).getTime();return Math.min(Math.max((n-a)/(new Date(t).getTime()-a)*100,0),100)};a(n());let s=setInterval(()=>{let e=n();a(e),100===e&&clearInterval(s)},1e3);return()=>clearInterval(s)},[e,t]),n};var eU=n(98216);let eR=(e,t)=>{let n=Math.min((t.getTime()-e.getTime())/1e3);return(0,eA.I)(e,{seconds:1/24*n})},eE=e=>{var t;let{start:n,end:s}=e,r=(0,A.useTranslations)("GraduationRewardsView"),i=eR(n,s),l=eD(n.toISOString(),i.toISOString()),o=(0,a.jsx)(eL,{percentage:l,className:"w-24 rounded-full",showNumber:!1,progressBarClassName:(0,el.cn)("rounded-full bg-support-warning"),hideIcons:!0});if(t=new Date,+(0,eT.Q)(t)<+(0,eT.Q)(i)){let e=(0,eo.LU)((0,eB.y)({start:n,end:i}),{shortLabels:!0,format:["months","days","hours","minutes","seconds"]});return(0,a.jsx)(eh.u,{content:r.rich("nowCalculatingLastPeriods",{timeRemaining:e,emphasis:e=>(0,a.jsx)("span",{className:"font-semibold",children:e})}),side:"bottom",children:o})}return o},eO=()=>{let e=(0,A.useTranslations)("GraduationRewardsView"),{data:t,isLoading:n}=eC({refetchInterval:5e3}),{data:s}=(0,v.z)(),i=null!=s?s:null,l=(null==t?void 0:t.currentEpochStart)?q(t.currentEpochStart):new Date,o=(null==t?void 0:t.currentEpochEnd)?q(t.currentEpochEnd):new Date,d=eD(eR(l,o).toISOString(),o.toISOString());if(n||!t)return(0,a.jsx)(r.g,{gap:0,className:"bg-glowing-sun relative animate-pulse rounded-dialog shadow-card",children:(0,a.jsx)("div",{className:"h-[192px]"})});let c=i?Number(t.totalAllocationBoopLpt)*Number(i)/C.LAMPORTS_PER_SOL:0,u=i?Number(t.allocationPerTokenBoopLpt)*Number(i)/C.LAMPORTS_PER_SOL:null;return(0,a.jsxs)(r.g,{gap:0,className:"bg-glowing-sun relative rounded-dialog shadow-card",children:[(0,a.jsx)("div",{className:"absolute left-[15%] right-[15%] h-[192px]",children:(0,a.jsx)(eS.default,{src:"/images/sparkles.png",alt:"",fill:!0,objectFit:"cover",sizes:"1024px"})}),(0,a.jsxs)(r.U,{className:"relative items-start justify-between",children:[(0,a.jsxs)(r.g,{gap:6,className:"p-6",children:[(0,a.jsx)("h2",{className:"token-detail font-semibold",children:e("dailyGradRewardPot")}),(0,a.jsxs)(r.g,{gap:0,children:[(0,a.jsx)("p",{className:"token-heading-03 text-gold md:token-display-02",children:"".concat((0,I.As)(t.totalAllocationBoopLpt)," BOOP")}),(0,a.jsxs)("p",{className:"token-helper text-03",children:["(",(0,I.LT)(c),")"]})]}),(0,a.jsxs)(r.g,{children:[(0,a.jsxs)(r.U,{children:[(0,a.jsx)("p",{className:"text-gold font-semibold",children:(0,I.DW)(t.tokensGraduated,0)}),(0,a.jsx)("p",{className:"token-helper text-03",children:e("graduatedCultsSet")})]}),(0,a.jsxs)(r.U,{children:[(0,a.jsx)("p",{className:"text-gold font-semibold",children:"".concat((0,I.As)(t.allocationPerTokenBoopLpt)," BOOP")}),(0,a.jsx)("p",{className:"token-helper text-03",children:e("each",{amount:u?(0,I.LT)(u):"???"})})]})]})]}),(0,a.jsx)("div",{className:"relative w-[48px] md:w-[236px]",children:(0,a.jsx)(B.BoopCharacter,{state:"wallet-success",className:"absolute right-0 top-0 h-[96px] w-[96px] md:h-[236px] md:w-[236px]"})})]}),(0,a.jsx)("div",{className:"relative p-2",children:(0,a.jsxs)(r.g,{gap:4,className:"rounded-container border bg-ui-glass p-4",children:[(0,a.jsxs)(r.U,{children:[(0,a.jsx)(eU.I,{endDate:new Date(t.currentEpochEnd)}),(0,a.jsx)("p",{className:"token-detail text-03",children:e("remainingThisPeriod")})]}),(0,a.jsxs)(r.U,{className:"gap-0.5",children:[(0,a.jsx)(eE,{start:l,end:o}),(0,a.jsx)(eL,{percentage:d,className:"flex-1 rounded-full",showNumber:!1,hideIcons:!0,progressBarClassName:(0,el.cn)("rounded-full bg-interactive-03")})]}),(0,a.jsx)("p",{className:"token-caption text-03",children:e("graduationRewardsBecomeAvailable")})]})})]})};var ez=n(46164);let eI=()=>{let e=(0,A.useTranslations)("GraduationRewardsView"),{data:t}=eC();return(0,a.jsx)(ez.M,{title:e("platformRewards"),description:e.rich("xInBoopRewards",{amount:t?(0,I.As)(t.totalAllocationBoopLpt):"???",emphasis:e=>(0,a.jsx)("span",{className:"text-[#fca723]",children:e})}),boopState:"grad-student",showHands:!0,boopPosition:"left"})},eG=()=>{let{user:e}=(0,s.F)(),{wallets:t}=(0,s.S)(),n=(0,i.e)(t,null==e?void 0:e.wallet);return(0,a.jsx)("main",{className:"container max-w-screen-md pt-8",children:(0,a.jsxs)(r.g,{gap:8,children:[(0,a.jsx)(eI,{}),(0,a.jsxs)(r.g,{gap:4,children:[(0,a.jsx)(eO,{}),(0,a.jsx)(ev,{connectedWallet:n}),(0,a.jsx)(ew,{})]})]})})}}},function(e){e.O(0,[4370,8099,3814,5501,5883,9851,8309,5113,4077,769,4735,33,7698,3905,7911,1339,4061,485,6996,2101,3454,2971,2117,1744],function(){return e(e.s=44250)}),_N_E=e.O()}]);