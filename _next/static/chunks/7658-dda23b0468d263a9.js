"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7658],{55741:function(e,t,n){n.d(t,{WG:function(){return O},cP:function(){return L},pO:function(){return k}});var r,a,s=n(3659),i=n(2265),o=n(47610),l=n(46462),c=n(96142),u=n(64131),d=n(14474),f=n(46102),p=n(24372),m=n(74665),h=n(51442);function x(){let e=(0,s._)(["\n    mutation LoginWithPrivy {\n      loginWithPrivy {\n        token\n      }\n    }\n  "]);return x=function(){return e},e}function v(){let e=(0,s._)(["\n    mutation LogoutMutation {\n      logout {\n        success\n      }\n    }\n  "]);return v=function(){return e},e}(r=a||(a={})).OneHour="ONE_HOUR",r.ShortLived="SHORT_LIVED",r.LongLived="LONG_LIVED";let g={ONE_HOUR:3600,SHORT_LIVED:86400,LONG_LIVED:2592e3},w=((e,t)=>{let n="".concat(f.appConfig.namespace,"_").concat(e);return t?"".concat(n,"_").concat(t):n})("token_v6"),N=()=>u.Z.get(w),j=()=>u.Z.remove(w),E=e=>u.Z.set(w,e,{expires:30,sameSite:"strict",secure:!0}),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHORT_LIVED";try{var n,r;let a=(0,d.o)(e),s=null!==(n=a.exp)&&void 0!==n?n:0,i=null!==(r=a.iat)&&void 0!==r?r:0,o=(0,l.Q)(new Date),c=o-i;if(!(s-o>0))return!1;let u=c<=g.ONE_HOUR,f=c<=g.SHORT_LIVED,p=c<=g.LONG_LIVED;if("ONE_HOUR"===t)return u;if("LONG_LIVED"===t)return p;return f}catch(e){return!1}},b=async e=>{let{identityToken:t,accessToken:n}=e,r=(0,c.Ps)(x());return(await (0,m.BX)({query:r,requestHeaders:{"Privy-Token":null!=t?t:"","Privy-Authentication":"Bearer ".concat(n)}})).loginWithPrivy.token},y=async()=>{let e=(0,c.Ps)(v());await (0,m.BX)({query:e,requestHeaders:{Authorization:"Bearer ".concat(N())}})},O=()=>{let{logout:e}=(0,o.F)(),{wallets:t}=(0,o.S)();return(0,i.useCallback)(async()=>{if(N())try{await y()}finally{j()}t.forEach(e=>e.disconnect()),await e()},[e,t])},k=()=>{let{identityToken:e}=(0,o.N)(),{ready:t,authenticated:n,getAccessToken:r}=(0,o.F)();return(0,i.useCallback)(async a=>{if(t&&!n)throw Error("Unauthorized");let s=N();if(s&&_(s,a))return s;let i=await r(),o=await b({identityToken:e,accessToken:i});return E(o),o},[t,n,e,r])},S=(e,t)=>{let n=(0,d.o)(e);return(0,h.E)(n.wallet_address,t)},L=()=>{let{user:e}=(0,o.F)(),{wallets:t}=(0,o.S)(),n=(0,p.e)(t,null==e?void 0:e.wallet);return(0,i.useCallback)(e=>S(e,(null==n?void 0:n.address)||""),[null==n?void 0:n.address])}},61290:function(e,t,n){n.d(t,{T:function(){return a}});var r=n(47610);let a=()=>{let{authenticated:e,login:t,connectWallet:n}=(0,r.F)(),{ready:a,wallets:s}=(0,r.S)(),i=a&&e,o=i&&0===s.length;return{isAuthenticated:i,isWalletConnected:i&&!o,loginMethod:o?n:t}}},12877:function(e,t,n){n.d(t,{z:function(){return a}});var r=n(2265);let a=e=>{let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}},4256:function(e,t,n){n.d(t,{x7:function(){return _},pm:function(){return j}});var r=n(57437),a=n(81201),s=n(20354),i=n(2265),o=n(46102),l=n(12877),c=n(6761),u=n(76799);let d=(0,n(90535).j)("rounded-small border-l-4 p-2",{variants:{colorScheme:{success:"border-l-support-success bg-support-success-bg",failure:"border-l-support-error bg-support-error-bg",info:"border-l-support-info bg-support-info-bg"}},defaultVariants:{colorScheme:"failure"}}),f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex w-8 flex-none justify-center",t),...n})},p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("w-8 flex-none",t),...n})},m=e=>{let t="error";if(!e)return t;switch(e){case"success":return"checkmarkFilled";case"failure":return t;case"info":return"infoFilled"}},h=(0,i.forwardRef)((e,t)=>{let{title:n,description:i,action:o,onDismiss:l,children:h,className:x,colorScheme:v,...g}=e;return(0,r.jsxs)("div",{ref:t,className:(0,a.cn)("overflow-hidden",d({colorScheme:v}),x),...g,children:[(0,r.jsxs)(s.U,{gap:2,children:[(0,r.jsx)(f,{className:(0,a.cn)({"text-support-success":"success"===v,"text-support-error":"failure"===v,"text-support-info":"info"===v}),children:(0,r.jsx)(u.J,{name:m(v),size:6})}),(0,r.jsx)("div",{className:"token-detail flex-1 font-semibold",children:n}),(0,r.jsx)(p,{children:(0,r.jsx)(c.Button,{variant:"link",size:"xs",onClick:l,className:(0,a.cn)("w-8 p-0"),children:(0,r.jsx)(u.J,{name:"close",size:6})})})]}),(0,r.jsxs)(s.U,{gap:2,children:[(0,r.jsx)(f,{}),(0,r.jsxs)("div",{className:"flex-1",children:[i&&(0,r.jsx)("p",{className:"token-detail line-clamp-3 whitespace-pre-wrap",children:i}),o&&(0,r.jsx)("div",{className:"mt-4",children:o})]}),(0,r.jsx)(p,{})]})]})});var x=n(59625),v=n(4391);let g=0,w=()=>(g=(g+1)%Number.MAX_SAFE_INTEGER).toString(),N=(0,x.Ue)()((0,v.n)(e=>({toasts:[],toast:t=>{e(e=>{let{id:n,...r}=t,a=e.toasts.findIndex(e=>e.id===n),s=w(),i={id:n||s,iteration:0,open:!0,colorScheme:"failure",...r};a>-1?e.toasts[a]={...i,iteration:e.toasts[a].iteration+1}:e.toasts.unshift(i),e.toasts.slice(0,o.appConfig.toast.limit)})},dismiss:async t=>{e(e=>{let n=e.toasts.findIndex(e=>e.id===t);n>-1&&(e.toasts[n].open=!1)})},remove:async t=>{setTimeout(()=>{e(e=>{e.toasts=e.toasts.filter(e=>e.id!==t)})},o.appConfig.toast.removeDelay)},clear:()=>{e(e=>{e.toasts=[]})}}))),j=()=>N(e=>e.toast),E=e=>{let{id:t,title:n,description:s,action:c,open:u,iteration:d,colorScheme:f,...p}=e,{remove:m,dismiss:x}=N(),v=(0,i.useRef)(),g=(0,l.z)(d),[w,j]=(0,i.useState)(!1),E=()=>{v.current=setTimeout(()=>{x(t)},o.appConfig.toast.removeDelay)};return(0,i.useEffect)(()=>{d>g&&u&&(clearTimeout(v.current),j(!0))},[d,g,u]),(0,r.jsx)("div",{"data-state":u?"open":"closed",className:(0,a.cn)("duration-300 fill-mode-forwards data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in","pointer-events-none data-[state=open]:pointer-events-auto"),onAnimationEnd:()=>{if(!u){m(t);return}E()},...p,children:(0,r.jsx)(h,{id:t,title:n,description:s,action:c,onDismiss:()=>x(t),className:(0,a.cn)({"animate-toast-wiggle":w}),onAnimationEnd:()=>{j(!1),E()},colorScheme:f})},t)},_=()=>{let e=N(e=>e.toasts);return(0,r.jsx)(s.g,{gap:3,className:(0,a.cn)("fixed right-4 top-4 z-[100] h-0 w-[317px] overflow-visible"),children:e.map(e=>{let{id:t,title:n,description:a,open:s,action:i,iteration:o,colorScheme:l}=e;return(0,r.jsx)(E,{id:t,title:n,open:s,iteration:o,description:a,action:i,colorScheme:l},t)})})}},72953:function(e,t,n){n.d(t,{pn:function(){return c},u:function(){return h}});var r=n(57437),a=n(2265),s=n(41677),i=n(722),o=n(46102),l=n(81201);let c=s.zt,u=s.fC,d=s.h_,f=s.xz,p=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Eh,{ref:t,className:(0,l.cn)("fill-ui-inverse",n),...a})});p.displayName=s.Eh.displayName;let m=(0,a.forwardRef)((e,t)=>{let{className:n,sideOffset:a=4,...i}=e;return(0,r.jsx)(s.VY,{ref:t,sideOffset:a,className:(0,l.cn)("token-detail z-50 max-w-[312px] overflow-hidden whitespace-pre-wrap rounded-small bg-ui-inverse p-4 text-inverse shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});m.displayName=s.VY.displayName;let h=(0,a.forwardRef)((e,t)=>{let{children:n,content:s,...l}=e,[c,h]=(0,a.useState)(!1),x=(0,i.ac)({minWidth:o.appConfig.mobileMaxWidth});return(0,r.jsxs)(u,{open:c,delayDuration:x?void 0:0,onOpenChange:h,children:[(0,r.jsx)(f,{asChild:!0,onClick:e=>{x||(e.preventDefault(),e.stopPropagation(),h(!0))},children:n}),(0,r.jsx)(d,{children:(0,r.jsxs)(m,{ref:t,...l,children:[s,(0,r.jsx)(p,{})]})})]})})},24372:function(e,t,n){n.d(t,{e:function(){return r},m:function(){return a}});let r=(e,t)=>e.find(e=>e.address===(null==t?void 0:t.address)),a=(e,t)=>{let n=r(e,t);if(!n)throw Error("No connected wallet found");return n}}}]);